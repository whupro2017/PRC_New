<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- author lyx; date 2016.09.28 -->
<mapper namespace="com.whu.pro.dao.CollSubQueryDao">
	<select id="InsertElement" parameterType="com.whu.pro.mapper.param.CollSubQueryParam"
		resultType="com.whu.pro.mapper.result.CollSubQueryResult">
		insert into collision_subject(element_manager,element_remark,element_image,create_date,localname) values(  #{manager},  #{remark},  #{element_image},  #{begin_date},  #{localname} );
	</select>
	
	<select id="selectMaxId" resultType="com.whu.pro.mapper.result.CollSubQueryResult">
		select *from collision_subject where element_id=(select max(element_id) from collision_subject);
	</select>
	
	<select id="selectAllElement" parameterType="com.whu.pro.mapper.param.CollSubQueryParam"
	   resultType="com.whu.pro.mapper.result.CollSubQueryResult">
		select * from collision_subject where (create_date	between #{begin_date} and #{end_date}) and 
		((#{key_word}='全部')  or (element_manager like '%${key_word}%') or (element_remark like '%${key_word}%'))  ;
	</select>
	
	<update id="UpdateElement" parameterType="com.whu.pro.mapper.param.CollSubQueryParam">
		update  collision_subject set element_manager=#{manager},element_remark=#{remark},element_image=#{element_image},create_date=#{begin_date},localname=#{localname}  where element_id=#{element_id}  ;
	</update>
	
	<select id="GetElementInfo" parameterType="com.whu.pro.mapper.param.CollSubQueryParam"
		resultType="com.whu.pro.mapper.result.CollSubQueryResult">
		select * from collision_subject where element_id=#{element_id};
	</select>
	
	<delete id="DeleteElement" parameterType="com.whu.pro.mapper.param.CollSubQueryParam">
		delete from collision_subject where element_id=#{element_id};
	</delete> 
</mapper>